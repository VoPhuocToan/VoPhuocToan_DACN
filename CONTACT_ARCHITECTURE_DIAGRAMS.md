# ğŸ—ï¸ Contact Management System - Architecture Diagrams

## Flow Diagram - Complete Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CUSTOMER JOURNEY                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: Customer Visits Frontend
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend React  â”‚
â”‚ Port 5173       â”‚
â”‚                 â”‚
â”‚  Contact.jsx    â”‚
â”‚  â”œâ”€ Name field  â”‚
â”‚  â”œâ”€ Email field â”‚
â”‚  â”œâ”€ Phone field â”‚
â”‚  â”œâ”€ Subject     â”‚
â”‚  â””â”€ Message     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ User fills & submits
         â†“
Step 2: API Request
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /api/contact            â”‚
â”‚ {                            â”‚
â”‚   "name": "Nguyá»…n VÄƒn A",    â”‚
â”‚   "email": "nva@gmail.com",  â”‚
â”‚   "phone": "0901234567",     â”‚
â”‚   "subject": "Há»i sáº£n pháº©m", â”‚
â”‚   "message": "..."           â”‚
â”‚ }                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ HTTP POST
         â†“
Step 3: Backend Processing
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend Express             â”‚
â”‚ Port 5000                   â”‚
â”‚                             â”‚
â”‚ contactController.js        â”‚
â”‚ sendContactMessage()        â”‚
â”‚ â””â”€ Validate input          â”‚
â”‚ â””â”€ Create Contact doc      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Save to DB
         â†“
Step 4: MongoDB Storage
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MongoDB Atlas (Cloud)        â”‚
â”‚                              â”‚
â”‚ Contact Collection           â”‚
â”‚ {                            â”‚
â”‚   _id: ObjectId(),          â”‚
â”‚   name: "Nguyá»…n VÄƒn A",     â”‚
â”‚   email: "nva@gmail.com",   â”‚
â”‚   status: "new",            â”‚
â”‚   createdAt: Date           â”‚
â”‚ }                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 5: Response to Customer
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ {                              â”‚
â”‚   "success": true,             â”‚
â”‚   "message": "Cáº£m Æ¡n báº¡n...", â”‚
â”‚   "data": { contact object }   â”‚
â”‚ }                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ HTTP 201
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Customer sees success msg   â”‚
â”‚ âœ… "LiÃªn há»‡ gá»­i thÃ nh cÃ´ng" â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ADMIN JOURNEY                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: Admin Login
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Admin Panel         â”‚
â”‚ Port 5175           â”‚
â”‚                     â”‚
â”‚ Login Page          â”‚
â”‚ â”œâ”€ Email            â”‚
â”‚ â””â”€ Password         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Submit credentials
           â†“
Step 2: Authentication
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /api/auth/login           â”‚
â”‚ Credentials verified in DB     â”‚
â”‚ JWT token generated            â”‚
â”‚ {"token": "eyJ..."}            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
Step 3: Navigate to Contact
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Admin Sidebar            â”‚
â”‚ â”œâ”€ Dashboard             â”‚
â”‚ â”œâ”€ Products              â”‚
â”‚ â”œâ”€ Categories            â”‚
â”‚ â””â”€ ğŸ’¬ Quáº£n LÃ½ LiÃªn Há»‡   â”‚ â† Click here
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
Step 4: View Contact List
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ContactList.jsx                       â”‚
â”‚                                       â”‚
â”‚ Statistics:                           â”‚
â”‚ â”œâ”€ Tá»•ng cá»™ng: 4                      â”‚
â”‚ â”œâ”€ Má»›i: 3                            â”‚
â”‚ â”œâ”€ ÄÃ£ xem: 1                         â”‚
â”‚ â””â”€ ÄÃ£ tráº£ lá»i: 0                     â”‚
â”‚                                       â”‚
â”‚ Filter buttons:                       â”‚
â”‚ [Táº¥t cáº£] [Má»›i] [ÄÃ£ xem] [...]        â”‚
â”‚                                       â”‚
â”‚ Data Table:                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ # â”‚ TÃªn  â”‚ Email â”‚ Status â”‚ Act â”‚  â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ â”‚ 1 â”‚ NgÃ´Ä â”‚ ... â”‚ Má»›i  â”‚ Xem   â”‚  â”‚
â”‚ â”‚ 2 â”‚ Tráº§n â”‚ ... â”‚ Má»›i  â”‚ Xem   â”‚  â”‚
â”‚ â”‚ 3 â”‚ LÃª   â”‚ ... â”‚ ÄÃ£ xem â”‚ Xem   â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ Click "Xem"
           â†“
Step 5: View Contact Detail
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ContactDetail.jsx                 â”‚
â”‚                                   â”‚
â”‚ [â† Quay láº¡i]                      â”‚
â”‚                                   â”‚
â”‚ ThÃ´ng Tin KhÃ¡ch HÃ ng:             â”‚
â”‚ â”œâ”€ TÃªn: LÃª VÄƒn C                 â”‚
â”‚ â”œâ”€ Email: levvan.c@gmail.com     â”‚
â”‚ â”œâ”€ Phone: 0923456789             â”‚
â”‚ â””â”€ NgÃ y gá»­i: 15/01/2025 13:12    â”‚
â”‚                                   â”‚
â”‚ Ná»™i Dung:                         â”‚
â”‚ â”œâ”€ TiÃªu Ä‘á»: Há»i vá» giao hÃ ng    â”‚
â”‚ â””â”€ Message: Bao lÃ¢u giao? ...    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ (Status: new â†’ read)
           â†“
Step 6: Reply to Contact
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Gá»­i Tráº£ Lá»i                    â”‚
â”‚                                â”‚
â”‚ [Textarea]                     â”‚
â”‚ Cáº£m Æ¡n báº¡n. ChÃºng tÃ´i giao    â”‚
â”‚ miá»…n phÃ­ vá»›i Ä‘Æ¡n hÃ ng trÃªn 500kâ”‚
â”‚                                â”‚
â”‚ [Gá»­i Tráº£ Lá»i]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ PUT /api/contact/:id/reply
         â†“ (with JWT token)
Step 7: Backend Updates
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ contactController.js        â”‚
â”‚ replyContact() {            â”‚
â”‚   - Update reply field      â”‚
â”‚   - Set status: 'replied'   â”‚
â”‚   - Save repliedAt: Date    â”‚
â”‚ }                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Save to DB
         â†“
Step 8: Admin Gets Confirmation
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Tráº£ lá»i thÃ nh cÃ´ng   â”‚
â”‚ Status: ÄÃ£ tráº£ lá»i      â”‚
â”‚                          â”‚
â”‚ [ÄÃ³ng LiÃªn Há»‡]          â”‚
â”‚ [XÃ³a LiÃªn Há»‡]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## Status State Machine

```
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   NEW   â”‚  â† KhÃ¡ch hÃ ng gá»­i liÃªn há»‡
         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
              â”‚ Admin views detail
              â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  READ   â”‚  â† Status tá»± Ä‘á»™ng cáº­p nháº­t
         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
              â”‚
        â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              â”‚
        â†“              â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚REPLIED â”‚    â”‚ CLOSED â”‚  â† Admin Ä‘Ã³ng hoáº·c tráº£ lá»i
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â””â”€â”€â”€â”€â†’ [DELETE]  â† Admin xÃ³a
```

## Data Flow Diagram

```
FRONTEND                    BACKEND                 MONGODB
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ Contact  â”‚              â”‚Controllersâ”‚            â”‚ DB  â”‚
â”‚  Form    â”‚â”€â”€POSTâ”€â”€â”€â”€â”€â†’  â”‚ -sendMsg  â”‚â”€â”€SAVEâ”€â”€â”€â”€â†’ â”‚      â”‚
â”‚          â”‚              â”‚          â”‚            â”‚      â”‚
â”‚ [name]   â”‚              â”‚          â”‚            â”‚      â”‚
â”‚ [email]  â”‚              â”‚          â”‚            â”‚      â”‚
â”‚ [phone]  â”‚              â”‚          â”‚            â”‚      â”‚
â”‚ [subject]â”‚              â”‚          â”‚            â”‚      â”‚
â”‚ [message]â”‚              â”‚          â”‚            â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”˜
    â”‚                                                 â”‚
    â”‚                                                 â”‚
    â† â† â† â† [201 Created] â† â† â† â† â† â† â† â† â† â† â† â† â†
    {success, message, data}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ADMIN                       BACKEND                 MONGODB
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ContactListâ”‚â”€â”€GETâ”€â”€â”€â”€â”€â†’  â”‚-getAllC. â”‚â”€â”€FINDâ”€â”€â”€â”€â†’ â”‚Query â”‚
â”‚          â”‚              â”‚          â”‚   filters  â”‚      â”‚
â”‚ [Filter] â”‚              â”‚          â”‚            â”‚      â”‚
â”‚ [Table]  â”‚              â”‚          â”‚            â”‚      â”‚
â”‚ [Actions]â”‚              â”‚          â”‚            â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”˜
    â”‚                                                 â”‚
    â† â† â† â† [200 OK] â† â† â† â† â† â† â† â† â† â† â† â† â† â† â†
    {data: [contacts], count: n}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ADMIN                       BACKEND                 MONGODB
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚Contact   â”‚â”€â”€GET/:idâ”€â”€â†’  â”‚-getDetailâ”‚â”€â”€FINDâ”€â”€â”€â”€â†’ â”‚ Doc  â”‚
â”‚ Detail   â”‚              â”‚          â”‚   (update) â”‚      â”‚
â”‚          â”‚              â”‚          â”‚  statusâ†’  â”‚      â”‚
â”‚ [reply]  â”‚              â”‚          â”‚   "read") â”‚      â”‚
â”‚ [form]   â”‚              â”‚          â”‚            â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚
    â”œâ”€â”€PUT/:id/replyâ”€â”€â†’  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”
    â”‚ {reply: "..."}     â”‚-replyC.  â”‚â”€â”€UPDATEâ”€â”€â†’ â”‚ Doc  â”‚
    â”‚                     â”‚          â”‚  (reply,  â”‚      â”‚
    â”‚                     â”‚          â”‚  statusâ†’ â”‚      â”‚
    â”‚                     â”‚          â”‚  "replied")â”‚      â”‚
    â”‚                     â”‚          â”‚            â”‚      â”‚
    â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        â† â† â† [200 OK] â† â† â† â† â† â† â† â† â† â† â† â† â† â† â† â†
        {success, data: updated_contact}
```

## Component Hierarchy

```
App.jsx
â”œâ”€â”€ Routes
â”‚   â”œâ”€â”€ /login
â”‚   â”‚   â””â”€â”€ Login.jsx
â”‚   â””â”€â”€ / (Protected)
â”‚       â””â”€â”€ Layout.jsx
â”‚           â”œâ”€â”€ Sidebar.jsx
â”‚           â”‚   â”œâ”€â”€ Links
â”‚           â”‚   â”‚   â”œâ”€â”€ Dashboard
â”‚           â”‚   â”‚   â”œâ”€â”€ Products
â”‚           â”‚   â”‚   â”œâ”€â”€ Categories
â”‚           â”‚   â”‚   â””â”€â”€ ğŸ’¬ Contact â† NEW
â”‚           â”‚   â””â”€â”€ Logout
â”‚           â””â”€â”€ Outlet
â”‚               â”œâ”€â”€ Dashboard
â”‚               â”œâ”€â”€ ProductList
â”‚               â”œâ”€â”€ ProductForm
â”‚               â”œâ”€â”€ Categories
â”‚               â”œâ”€â”€ ContactList â† NEW
â”‚               â”‚   â”œâ”€â”€ Stats
â”‚               â”‚   â”œâ”€â”€ Filters
â”‚               â”‚   â””â”€â”€ DataTable
â”‚               â””â”€â”€ ContactDetail â† NEW
â”‚                   â”œâ”€â”€ InfoSection
â”‚                   â”œâ”€â”€ ContentSection
â”‚                   â”œâ”€â”€ ReplySection
â”‚                   â””â”€â”€ Actions
```

## API Endpoints Tree

```
/api/contact/
â”œâ”€â”€ POST /
â”‚   â”œâ”€â”€ Public endpoint
â”‚   â”œâ”€â”€ Body: {name, email, phone?, subject, message}
â”‚   â””â”€â”€ Returns: {success, message, data}
â”‚
â”œâ”€â”€ GET /
â”‚   â”œâ”€â”€ Protected: JWT + admin role
â”‚   â”œâ”€â”€ Returns: {success, data: [contacts], count}
â”‚   â””â”€â”€ QueryParams: (none, all contacts)
â”‚
â”œâ”€â”€ GET /stats/count
â”‚   â”œâ”€â”€ Protected: JWT + admin role
â”‚   â””â”€â”€ Returns: {success, data: {total, new, read, replied}}
â”‚
â”œâ”€â”€ GET /:id
â”‚   â”œâ”€â”€ Protected: JWT + admin role
â”‚   â”œâ”€â”€ Returns: {success, data: contact}
â”‚   â””â”€â”€ Side effect: Updates status to 'read'
â”‚
â”œâ”€â”€ PUT /:id/reply
â”‚   â”œâ”€â”€ Protected: JWT + admin role
â”‚   â”œâ”€â”€ Body: {reply: "string"}
â”‚   â”œâ”€â”€ Returns: {success, data: updated_contact}
â”‚   â””â”€â”€ Updates: reply field + status to 'replied'
â”‚
â”œâ”€â”€ PUT /:id/close
â”‚   â”œâ”€â”€ Protected: JWT + admin role
â”‚   â”œâ”€â”€ Returns: {success, data: updated_contact}
â”‚   â””â”€â”€ Updates: status to 'closed'
â”‚
â””â”€â”€ DELETE /:id
    â”œâ”€â”€ Protected: JWT + admin role
    â”œâ”€â”€ Returns: {success, data: deleted_contact}
    â””â”€â”€ Action: Removes document from DB
```

## Database Schema Diagram

```
Contact Collection
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ _id: ObjectId                    â”‚ â† unique identifier
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ name: String (required)          â”‚ customer name
â”‚ email: String (required)         â”‚ customer email
â”‚ phone: String                    â”‚ optional
â”‚ subject: String (required)       â”‚ issue title
â”‚ message: String (required)       â”‚ detailed message
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ status: String (enum)            â”‚ new/read/replied/closed
â”‚ reply: String                    â”‚ admin response
â”‚ repliedAt: Date                  â”‚ reply timestamp
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ createdAt: Date (auto)           â”‚ created timestamp
â”‚ updatedAt: Date (auto)           â”‚ modified timestamp
â”‚ __v: Number (versioning)         â”‚ MongoDB version
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Indexes:
â”œâ”€â”€ _id (primary)
â”œâ”€â”€ status (for filtering)
â”œâ”€â”€ createdAt (for sorting)
â””â”€â”€ email (for searching)
```

---

**Last Updated:** 2025-01-15
**Version:** 1.0
